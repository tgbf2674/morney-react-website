{"version":3,"sources":["icons sync /.svg$","icons/chart.svg","icons/money.svg","icons/right.svg","icons/tag.svg","icons/左.svg","components/Icon.tsx","components/Nav.tsx","components/Layout.tsx","lib/createId.tsx","hooks/useUpdate.tsx","hooks/useTags.tsx","views/Money/TagsSection.tsx","components/Input.tsx","views/Money/NoteSection.tsx","views/Money/CategorySection.tsx","views/Money/NumberPadSection/Wrapper.tsx","views/Money/NumberPadSection.tsx","views/Money/NumberPadSection/generateOutput.tsx","hooks/useRocords.tsx","views/Money.tsx","components/Button.tsx","components/Center.tsx","components/Space.tsx","views/Tags.tsx","views/statistics.tsx","views/NoMatch.tsx","Tag.tsx","App.tsx","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","symbol","add","requireContext","require","forEach","error","Icon","props","name","children","className","rest","cs","xlinkHref","NavWrapper","styled","nav","Nav","to","activeClassName","Wrapper","div","Main","Layout","mainRef","useRef","useEffect","setTimeout","current","scrollTop","ref","defaultProps","parseInt","window","localStorage","getItem","createId","setItem","JSON","stringify","useUpdate","fn","dependency","count","useTags","useState","tags","setTags","localTags","parse","length","findTagIndex","result","i","findTag","filter","tag","updateTag","obj","index","tagsClone","splice","deleteTag","addTag","tagName","prompt","getName","t","section","TagsSection","selectedTagIds","value","onClick","tagId","indexOf","onChange","Label","label","Input","NoteSection","note","placeholder","type","target","CategorySection","categoryMap","categoryList","category","c","NumberPadSection","toString","output","_setOutput","text","textContent","split","concat","newOutput","slice","parseFloat","setOutput","generateOutput","onOk","useRecords","records","setRecords","addRecord","newRecord","amount","alert","tagIds","record","createdAt","Date","toISOString","MyLayout","defaultFormData","CategoryWrapper","Money","selected","setSelected","Button","button","Center","Space","TagList","ol","Tags","Item","Header","h3","Statistics","setCategory","hash","r","key","day","format","push","array","entries","sort","a","b","date","reduce","span","NoMatch","Topbar","header","InputWrapper","Tag","idString","useParams","history","useHistory","goBack","tagContent","AppWrapper","App","path","exact","from","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a7f47a94.chunk.js","sourcesContent":["var map = {\n\t\"./chart.svg\": 40,\n\t\"./money.svg\": 41,\n\t\"./right.svg\": 42,\n\t\"./tag.svg\": 43,\n\t\"./左.svg\": 44\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 39;","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"chart\",\n  \"use\": \"chart-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"chart\\\"><defs><style></style></defs><path d=\\\"M932 848H792V400c0-30.9-25.1-56-56-56H624V232c0-30.9-25.1-56-56-56H456c-30.9 0-56 25.1-56 56v336H288c-30.9 0-56 25.1-56 56v224H120V148c0-15.5-12.5-28-28-28s-28 12.5-28 28v700c0 30.9 25.1 56 56 56h812c15.5 0 28-12.5 28-28s-12.5-28-28-28zm-644 0V624h112v224H288zm168 0V232h112v616H456zm168 0V400h112v448H624z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"money\\\"><defs><style></style></defs><path d=\\\"M937.596 15.364a64 64 0 00-90.24 7.04L511.999 417.283 176.64 22.404a64 64 0 00-97.28 83.2l290.559 342.399h-113.92a64 64 0 000 127.999h192v128h-192A64 64 0 00256 832h192v128a64 64 0 00127.999 0V832h191.999a64 64 0 000-128h-192V576.002h192a64 64 0 000-128h-113.92l290.56-342.398a64 64 0 00-7.04-90.24z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"right\\\"><defs><style></style></defs><path d=\\\"M629.12 512L334.528 842.688a32 32 0 1047.744 42.624l313.6-352a32 32 0 000-42.624l-313.6-352a32 32 0 10-47.744 42.624L629.12 512z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"tag\",\n  \"use\": \"tag-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"tag\\\"><defs><style></style></defs><path d=\\\"M526.336 956.416c-29.696 0-60.416-11.264-82.944-34.816l-322.56-322.56c-48.128-48.128-67.584-115.712-52.224-182.272l39.936-247.808c5.12-33.792 31.744-60.416 65.536-65.536l247.808-39.936c66.56-15.36 134.144 4.096 182.272 52.224l322.56 322.56c46.08 46.08 46.08 120.832 0 165.888L609.28 921.6c-22.528 23.552-52.224 34.816-82.944 34.816zM189.44 184.32l-40.96 249.856c-9.216 38.912 2.048 78.848 30.72 106.496l322.56 323.584c14.336 14.336 36.864 14.336 50.176 0L868.352 547.84c14.336-14.336 14.336-36.864 0-50.176L545.792 174.08c-28.672-28.672-68.608-39.936-106.496-30.72l-3.072 1.024L189.44 184.32z\\\" /><path d=\\\"M359.424 477.184c-31.744 0-62.464-12.288-87.04-35.84-48.128-48.128-48.128-125.952 0-174.08 48.128-48.128 125.952-48.128 174.08 0 48.128 48.128 48.128 125.952 0 174.08-24.576 24.576-55.296 35.84-87.04 35.84zm0-162.816c-10.24 0-20.48 4.096-28.672 12.288-16.384 16.384-16.384 41.984 0 58.368s41.984 16.384 58.368 0 16.384-41.984 0-58.368c-9.216-9.216-19.456-12.288-29.696-12.288zM670.72 438.272L439.296 670.72c-16.384 16.384-41.984 16.384-58.368 0s-16.384-41.984 0-58.368l231.424-231.424c16.384-16.384 41.984-16.384 58.368 0 16.384 15.36 16.384 41.984 0 57.344zm6.144 200.704L546.816 770.048c-16.384 16.384-41.984 16.384-58.368 0s-16.384-41.984 0-58.368l130.048-130.048c16.384-16.384 41.984-16.384 58.368 0s16.384 41.984 0 57.344z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"左\",\n  \"use\": \"左-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"左\\\"><defs><style></style></defs><path d=\\\"M481.233 904c8.189 0 16.379-3.124 22.628-9.372 12.496-12.497 12.496-32.759 0-45.256L166.488 512l337.373-337.373c12.496-12.497 12.496-32.758 0-45.255-12.498-12.497-32.758-12.497-45.256 0l-360 360c-12.496 12.497-12.496 32.758 0 45.255l360 360c6.249 6.249 14.439 9.373 22.628 9.373z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react';\r\nimport cs from 'classnames';\r\n// require('icons/money.svg');\r\n// require('icons/tag.svg');\r\n// require('icons/chart.svg');\r\nlet importAll  = (requireContext: __WebpackModuleApi.RequireContext) =>requireContext.keys().forEach(requireContext);\r\ntry{ importAll(require.context('icons',true,/\\.svg$/))} catch (error) {\r\n\r\n}\r\ntype Props ={\r\n    name?: string\r\n} & React.SVGAttributes<SVGElement>\r\nconst Icon=(props: Props)=>{\r\n    const {name,children,className, ...rest} = props;\r\n    return (\r\n        <svg className={cs('icon', className)} {...rest}>\r\n            {props.name && <use xlinkHref={'#'+props.name}/>}\r\n        </svg>\r\n    )\r\n};\r\n\r\nexport default Icon;\r\n","import styled from 'styled-components';\r\nimport {NavLink} from 'react-router-dom';\r\nimport React from 'react';\r\nimport Icon from './Icon';\r\n\r\nconst NavWrapper = styled.nav`\r\nbackground: white;\r\nline-height: 24px;\r\nbox-shadow: 0 0 3px rgba(0,0,0,0.25);\r\n> ul{\r\n      display: flex;\r\n   > li {\r\n   \r\n    width: 33.3333%;\r\n    text-align: center;\r\n   > a{\r\n    padding: 4px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n   \r\n    .icon{\r\n    width: 24px;\r\n    height: 24px;\r\n    }\r\n    &.selected{\r\n    color: blue;\r\n    .icon{\r\n      fill: blue;\r\n    }\r\n    }\r\n    }\r\n    }\r\n}\r\n`;\r\n\r\nconst Nav = () => {\r\n    return (\r\n        <NavWrapper>\r\n            <ul>\r\n                <li>\r\n                    <NavLink to=\"/money\" activeClassName=\"selected\">\r\n                        <Icon name=\"money\"/>\r\n                        记账页</NavLink>\r\n                </li>\r\n                <li>\r\n\r\n                    <NavLink to=\"/tags\" activeClassName=\"selected\">\r\n                        <Icon name=\"tag\"/>\r\n                        标签页</NavLink>\r\n                </li>\r\n                <li>\r\n\r\n                    <NavLink to=\"/statistics\" activeClassName=\"selected\">\r\n                        <Icon name=\"chart\"/>\r\n                        统计页</NavLink>\r\n                </li>\r\n            </ul>\r\n        </NavWrapper>\r\n    );\r\n};\r\n\r\nexport default Nav;\r\n","import Nav from './Nav';\r\nimport React, {useEffect, useRef } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Wrapper = styled.div`\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n`;\r\n\r\nconst Main = styled.div`\r\nflex-grow: 1;\r\n&::-webkit-scrollbar{\r\ndisplay: none;\r\n}\r\n`;\r\ntype Props = {\r\n    className?: string;\r\n    scrollTop?: number;\r\n}\r\n\r\nconst Layout:React.FC<Props>=(props)=>{\r\n    const mainRef = useRef<HTMLDivElement>(null);\r\n    useEffect(()=>{\r\n        setTimeout(()=>{\r\n        if(!mainRef.current)return;\r\n        mainRef.current.scrollTop = props.scrollTop!;\r\n    },0);\r\n    },[props.scrollTop]);\r\n    return (\r\n        (<Wrapper><Main ref ={mainRef} className={props.className}>{props.children}</Main><Nav /></Wrapper>)\r\n    )\r\n};\r\n\r\nLayout.defaultProps={\r\n    scrollTop:0\r\n};\r\n\r\nexport default Layout;\r\n","let id = parseInt(window.localStorage.getItem('idMax') ||'0')\r\n\r\nconst createId =() =>{\r\n    id +=1;\r\n    window.localStorage.setItem('idMax',JSON.stringify(id));\r\n    return id;\r\n};\r\n\r\nexport {createId}\r\n","import { useEffect, useRef } from \"react\";\r\n\r\nconst useUpdate=(fn:()=>void,dependency: any[])=>{\r\n    const count = useRef(0);\r\n    useEffect(()=>{\r\n        count.current +=1;\r\n    });\r\n    useEffect(()=>{\r\n        if(count.current>1) {\r\n            fn()\r\n        }\r\n    },[fn,dependency]);//不可变数据\r\n};\r\n\r\nexport {useUpdate}\r\n","import {useState,useEffect} from 'react';\r\nimport {createId} from 'lib/createId';\r\nimport {useUpdate} from './useUpdate';\r\n\r\nconst useTags=()=> {\r\n    const [tags, setTags] = useState<{id:number;name:string }[]>([]);\r\n    useEffect(()=>{\r\n       let localTags=JSON.parse(window.localStorage.getItem('tags')|| '[]');\r\n        if(localTags.length === 0){\r\n            localTags = [\r\n                {id:createId(),name:'衣'},\r\n                {id:createId(),name: '食'},\r\n                {id:createId(), name:'住'},\r\n                {id:createId(), name:'行'}\r\n            ];\r\n        }\r\n        setTags(localTags)\r\n    },[]);\r\n   useUpdate(()=>{\r\n       window.localStorage.setItem('tags',JSON.stringify(tags))\r\n   },tags);\r\n    const findTag = (id:number)=>tags.filter(tag=>tag.id===id)[0];\r\n    const findTagIndex = (id:number)=> {\r\n            let result = -1;\r\n            for (let i = 0; i< tags.length;i++){\r\n                if(tags[i].id ===id){\r\n                    result = i;\r\n                    break;\r\n                }\r\n            }\r\n            return result;\r\n        };\r\n    const updateTag= (id:number,obj: {name:string })=>{\r\n        // 获取你要改的 tag 的下标\r\n        const index = findTagIndex(id);\r\n        // 深拷贝 tags 得到 tagsClone\r\n        const tagsClone = JSON.parse(JSON.stringify(tags));\r\n        // 把 tagsClone 的第 index 删掉，换成 {id:id, name: obj.name}\r\n        tagsClone.splice(index, 1, {id: id, name: obj.name});\r\n        setTags(tagsClone);\r\n    };\r\n    const deleteTag = (id:number)=>{\r\n        // 获取你要删的 tag 的下标\r\n        const index = findTagIndex(id);\r\n        // 深拷贝 tags 得到 tagsClone\r\n        const tagsClone = JSON.parse(JSON.stringify(tags));\r\n        // 把 tagsClone 的第 index 删掉\r\n        tagsClone.splice(index, 1);\r\n        setTags(tagsClone);\r\n    };\r\n    const addTag = () => {\r\n        const tagName = window.prompt('新标签名称为');\r\n        if (tagName !== null && tagName!== '') {\r\n            setTags([...tags, {id:createId(),name:tagName}]);\r\n        }\r\n    };\r\n    const getName = (id:number)=>{\r\n      const tag = tags.filter(t=>t.id===id)[0];\r\n      return tag? tag.name : '';\r\n    };\r\n    return {\r\n        tags,\r\n        setTags,\r\n        findTag,\r\n        updateTag,\r\n        findTagIndex,\r\n        deleteTag,\r\n        addTag,\r\n        getName\r\n    }\r\n};\r\n\r\nexport {useTags}\r\n","import styled from 'styled-components';\r\nimport React from 'react';\r\nimport {useTags} from '../../hooks/useTags';\r\n\r\n\r\nconst Wrapper = styled.section`\r\n    background: #ffffff;\r\n    padding: 12px 16px;\r\n    flex-grow: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: flex-end;\r\n    align-items: flex-start;\r\n    > ol{\r\n    padding: 0 -12px;\r\n      > li {\r\n      background: #d9d9d9;\r\n      border-radius: 18px;\r\n      display: inline-block;\r\n      padding: 4px 18px;\r\n      font-size: 14px;\r\n      margin: 8px 12px;\r\n      &.selected{\r\n      background: #1296db;\r\n      }\r\n      } \r\n    }\r\n    > button{\r\n    background: none;\r\n    border:none;\r\n    padding: 2px 4px;\r\n    border-bottom: 1px solid #333;\r\n    color: #666;\r\n    margin-top: 8px;\r\n    }\r\n`;\r\n\r\ntype Props = { value: number[];\r\nonChange: (selected: number[])=>void;\r\n}\r\nconst TagsSection: React.FC<Props> = (props) => {\r\n    const {tags, addTag} = useTags();\r\n    const selectedTagIds = props.value;\r\n\r\n    const onToggleTag = (tagId: number) => {\r\n        const index = selectedTagIds.indexOf(tagId);\r\n        if (index >= 0) {\r\n            props.onChange(selectedTagIds.filter(t => t !== tagId));\r\n            //如果tag已被选中，就复制所有没被选中的tag,作为新的selectedTag\r\n        } else {\r\n            props.onChange([...selectedTagIds, tagId]);\r\n        }\r\n    };\r\n    const getClass = (tagId: number) => selectedTagIds.indexOf(tagId) >= 0 ? 'selected' : '';\r\n    return (\r\n        <Wrapper>\r\n            <ol>\r\n                {tags.map(tag =>\r\n                    <li key={tag.id} onClick={() => {onToggleTag(tag.id);}} className={getClass(tag.id)}>{tag.name}</li>)}\r\n            </ol>\r\n            <button onClick={addTag}>新增标签</button>\r\n        </Wrapper>\r\n    );\r\n};\r\n\r\n\r\n// @ts-ignore\r\nexport {TagsSection};\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Label  = styled.label`\r\n  display: flex;\r\n  align-items: center;\r\n  > span { margin-right: 16px; white-space: nowrap}\r\n  > input{\r\n  display: block;\r\n  width: 100%;\r\n  height: 44px;\r\n  background: none;\r\n  border: none;\r\n  }\r\n`;\r\ntype Props={\r\n    label : string;\r\n}& React.InputHTMLAttributes<HTMLInputElement>;\r\nconst Input: React.FC<Props>=(props)=> {\r\n    const {label,children,...rest} = props;\r\n    return (\r\n    <Label>\r\n        <span>{props.label}</span>\r\n        <input {...rest}/>\r\n    </Label>\r\n    )\r\n};\r\n\r\nexport {Input}\r\n","import styled from 'styled-components';\r\nimport React, {ChangeEventHandler} from 'react';\r\nimport {Input} from '../../components/Input';\r\n\r\nconst Wrapper = styled.section`\r\n  background: #f5f5f5;\r\n  padding: 14px 16px;\r\n  font-size: 14px;\r\n`;\r\n\r\ntype Props ={\r\n    value: string;\r\n    onChange: (value:string)=> void;\r\n}\r\n\r\nconst NoteSection:React.FC<Props> = (props)=>{\r\n    const note = props.value;\r\n    const onChange:ChangeEventHandler<HTMLInputElement> = (e) =>{\r\n            props.onChange(e.target.value);\r\n    };\r\n    return(\r\n        <Wrapper>\r\n            <Input placeholder=\"请填写备注\" label=\"备注\" type=\"text\" value={note} onChange={onChange} >\r\n            </Input>\r\n        </Wrapper>\r\n    );\r\n};\r\n\r\nexport {NoteSection}\r\n","import styled from 'styled-components';\r\nimport React, {FC, useState} from 'react';\r\n\r\nconst Wrapper = styled.section`\r\nfont-size: 24px;\r\n   > ul {\r\n   display: flex;\r\n   > li{\r\n   width: 50%;\r\n   text-align: center;\r\n   padding: 16px 0;\r\n   position: relative;\r\n   &.selected::after{\r\n   content: '';\r\n   display: block;\r\n   height: 3px;\r\n   background: #1296db;\r\n   position: absolute;\r\n   bottom: 0;\r\n   width: 100%;\r\n   left: 0;\r\n   }\r\n   }\r\n   }\r\n`;\r\ntype Props={\r\n    value: '-' | '+';\r\n    onChange:(value: '-' | '+')=> void;\r\n}\r\nconst CategorySection: FC<Props> =(props)=>{\r\n    const categoryMap = {'-': '支出','+': '收入'};\r\n    type Keys = keyof typeof categoryMap\r\n    const [categoryList] = useState<Keys[]>(['-','+']);\r\n    const category = props.value;\r\n    return (\r\n        <Wrapper>\r\n            <ul>\r\n                {categoryList.map(c=>\r\n                    <li key={c} className={category === c ? 'selected' : ''} onClick={()=>{props.onChange(c)}} >{categoryMap[c]}</li>\r\n                )}\r\n            </ul>\r\n        </Wrapper>\r\n    )\r\n};\r\n\r\nexport {CategorySection}\r\n","import styled from 'styled-components';\r\n\r\nconst Wrapper = styled.section`\r\n    display: flex;\r\n    flex-direction: column;\r\n    > .output{\r\n    background: white;\r\n    font-size: 36px;\r\n    line-height: 72px;\r\n    text-align: right;\r\n    padding: 0 16px;\r\n    box-shadow: inset 0 -5px 5px -5px rgba(0,0,0,0.25), inset 0 5px 5px -5px rgba(0,0,0,0.25);\r\n    }\r\n    > .pad{\r\n   \r\n   \r\n    > button{\r\n    font-size: 18px;\r\n    float: left;\r\n    width: 25%;\r\n    height: 64px;\r\n    border: none;\r\n    &.ok{\r\n    height: 128px;\r\n    float: right;\r\n    }\r\n    &.zero{\r\n    width:50%;\r\n    }\r\n    &:nth-child(1){\r\n    background: #f2f2f2;\r\n    }\r\n    &:nth-child(2),\r\n    &:nth-child(5) {\r\n     background: #e0e0e0;\r\n    }\r\n    &:nth-child(3),\r\n    &:nth-child(6),\r\n     &:nth-child(9){\r\n     background: #d3d3d3;\r\n    }\r\n    &:nth-child(4),\r\n    &:nth-child(7),\r\n     &:nth-child(10){\r\n     background: #c1c1c1;\r\n    }\r\n    &:nth-child(8),\r\n    &:nth-child(11),\r\n     &:nth-child(13){\r\n     background: #b8b8b8;\r\n    }\r\n    &:nth-child(12){\r\n    background: #1296db;\r\n    }\r\n    &:nth-child(14){\r\n    background: #9a9a9a;\r\n    }\r\n    }\r\n    }\r\n`;\r\n\r\nexport {Wrapper}\r\n","import React, { useState } from 'react';\nimport {Wrapper} from './NumberPadSection/Wrapper';\nimport {generateOutput} from './NumberPadSection/generateOutput';\n\n\ntype Props = {\n    value: number;\n    onChange: (value: number) => void;\n    onOk?: () => void;\n}\nconst NumberPadSection: React.FC<Props> = (props) => {\n    // const output = props.value.toString();\n    const [output,_setOutput] = useState(props.value.toString());\n    const setOutput = (output: string) => {\n        let newOutput:string;\n        if (output.length > 16) {\n            newOutput = output.slice(0, 16);\n        } else if (output.length === 0) {\n            newOutput = '0';\n        } else {\n            newOutput = output;\n        }\n        _setOutput(newOutput);\n        props.onChange(parseFloat(newOutput));\n    };\n    const onClickButtonWrapper = (e: React.MouseEvent) => {\n        const text = (e.target as HTMLButtonElement).textContent;\n        if (text === null) {return;}\n        if (text === 'OK') {\n            if (props.onOk) {props.onOk();}\n            return;\n        }\n        if ('0123456789.'.split('').concat(['删除', '清空']).indexOf(text) >= 0) {\n            setOutput(generateOutput(text, output));\n        }\n\n    };\n    return (\n        <Wrapper>\n            <div className=\"output\">\n                {output}\n            </div>\n            <div className=\"pad clearfix\" onClick={onClickButtonWrapper}>\n                <button>1</button>\n                <button>2</button>\n                <button>3</button>\n                <button>删除</button>\n                <button>4</button>\n                <button>5</button>\n                <button>6</button>\n                <button>清空</button>\n                <button>7</button>\n                <button>8</button>\n                <button>9</button>\n                <button className=\"ok\">OK</button>\n                <button className=\"zero\">0</button>\n                <button className=\"dot\">.</button>\n            </div>\n        </Wrapper>\n    );\n};\n\n\nexport {NumberPadSection};\n","const generateOutput =(text:string,output='0')=>{\r\n    switch(text){\r\n        case '0':\r\n        case '1':\r\n        case '2':\r\n        case '3':\r\n        case '4':\r\n        case '5':\r\n        case '6':\r\n        case '7':\r\n        case '8':\r\n        case '9':\r\n            if(output ==='0') {\r\n               return text\r\n            }else{\r\n                return output+text\r\n            }\r\n            case '删除':\r\n            if(output.length ===1){\r\n                return('')\r\n            }else{\r\n                return output.slice(0,-1) || ''\r\n            }\r\n        case '清空':\r\n            return('');\r\n        case '.':\r\n            if(output.indexOf('.')>=0) {return output}\r\n            return (output+ '.');\r\n        default:\r\n            return '';\r\n    }\r\n};\r\n\r\nexport {generateOutput}\r\n","import {useEffect, useState } from \"react\";\r\nimport {useUpdate} from './useUpdate';\r\n\r\n\r\ntype newRecordItem = {\r\n    tagIds: number[];\r\n    note:string\r\n    category: '+' | '-'\r\n    amount: number\r\n}\r\nexport type RecordItem = newRecordItem & {\r\n    createdAt: string //ISO8601\r\n}\r\nconst useRecords=()=>{\r\n    const [records,setRecords] =useState<RecordItem[]>([]);\r\n    useEffect(()=>{\r\n        setRecords(JSON.parse(window.localStorage.getItem('records')||'[]'))\r\n    },[]);\r\n    useUpdate(()=>{\r\n        window.localStorage.setItem('records',JSON.stringify(records))\r\n    },records);\r\n    const addRecord=(newRecord:newRecordItem)=>{\r\n        if(newRecord.amount<=0){\r\n            alert(\"请输入金额\");\r\n            return false;\r\n        }\r\n        if(newRecord.tagIds.length===0){\r\n            alert('请选择标签');\r\n            return false;\r\n        }\r\n        const record = {...newRecord,createdAt: (new Date()).toISOString()};\r\n        setRecords([...records,record]);\r\n        return true\r\n    };\r\n\r\n\r\n\r\n    return {records,addRecord}\r\n};\r\n\r\nexport {useRecords}\r\n","import Layout from '../components/Layout';\nimport React, {useState} from 'react';\nimport styled from 'styled-components';\nimport {TagsSection} from './Money/TagsSection';\nimport {NoteSection} from './Money/NoteSection';\nimport {CategorySection} from './Money/CategorySection';\nimport {NumberPadSection} from './Money/NumberPadSection';\nimport {useRecords} from '../hooks/useRocords';\n\n\nconst MyLayout = styled(Layout)`\ndisplay: flex;\nflex-direction: column;\n`;\n\ntype Category = '-' | '+'\n\nconst defaultFormData = {\n    tagIds: [] as number[],\n    note: '',\n    category: '-' as Category,\n    amount: 0,\n};\nconst CategoryWrapper  =styled.div`\n  background: #c4c4c4;\n`;\n\nfunction Money() {\n    const [selected, setSelected] = useState(defaultFormData);\n    const {addRecord} = useRecords();\n    const onChange = (obj: Partial<typeof selected>) => {\n        setSelected({\n            ...selected,\n            ...obj\n        });\n    };\n    const submit = () => {\n        if(addRecord(selected)){\n            alert('保存成功');\n            setSelected(defaultFormData)\n        }\n    };\n\n    return (\n        <MyLayout scrollTop={9999}>\n            <TagsSection value={selected.tagIds} onChange={(tagIds) => onChange({tagIds})}\n            />\n            <NoteSection value={selected.note} onChange={(note) => onChange({note})}\n            />\n            <CategoryWrapper>\n            <CategorySection value={selected.category} onChange={(category) => onChange({category})}/>\n            </CategoryWrapper>\n\n            <NumberPadSection value={selected.amount} onChange={(amount) => onChange({amount})}\n                              onOk={submit}\n            />\n        </MyLayout>\n    );\n}\n\nexport default Money;\n","import styled from 'styled-components';\r\n\r\nconst Button = styled.button`\r\nfont-size: 18px;\r\nborder: none;\r\npadding: 8px 12px;\r\nborder-radius: 4px;\r\nbackground: #1296db;\r\ncolor: white;\r\n`;\r\n\r\nexport {Button}\r\n","import styled from 'styled-components';\r\n\r\nconst Center = styled.div`\r\ndisplay: flex;\r\njustify-content: center;\r\nalign-items: center;\r\nflex-direction: column;\r\n`;\r\n\r\nexport {Center}\r\n","import styled from 'styled-components';\r\n\r\nconst Space = styled.div`\r\nheight: 16px;\r\n`;\r\n\r\nexport {Space}\r\n","import Layout from 'components/Layout';\r\nimport React from 'react';\r\nimport {useTags} from 'hooks/useTags';\r\nimport styled from 'styled-components';\r\nimport Icon from 'components/Icon';\r\nimport {Link} from 'react-router-dom';\r\nimport {Button} from 'components/Button';\r\nimport {Center} from 'components/Center';\r\nimport {Space} from 'components/Space';\r\n\r\nconst TagList = styled.ol`\r\n  font-size: 16px;\r\n  background: white;\r\n  \r\n  > li {\r\n  border-bottom: 1px solid #d5d5d9;\r\n  line-height: 20px;\r\n  margin-left: 16px;\r\n \r\n >a {\r\n   padding: 12px 16px 12px 0;\r\n display: flex;\r\n justify-content: space-between;\r\n align-items: center;\r\n }\r\n  }\r\n  \r\n`;\r\n\r\n\r\nfunction Tags() {\r\n    const {tags,addTag} = useTags();\r\n    return (\r\n        <Layout>\r\n            <TagList>\r\n                {tags.map(tag =>\r\n                    <li key={tag.id}>\r\n                        <Link to={'/tags/'+tag.id}>\r\n                            <span className=\"online\">{tag.name}</span>\r\n                            <Icon name=\"right\"/>\r\n                        </Link>\r\n                    </li>\r\n                )}\r\n            </TagList>\r\n            <Center>\r\n                <Space />\r\n                <Space />\r\n                <Space />\r\n                <Button onClick={addTag}>新增标签</Button>\r\n            </Center>\r\n        </Layout>\r\n    );\r\n}\r\n\r\nexport default Tags;\r\n","import Layout from '../components/Layout';\r\nimport React, {ReactNode, useState} from 'react';\r\nimport {CategorySection} from './Money/CategorySection';\r\nimport styled from 'styled-components';\r\nimport {RecordItem, useRecords} from '../hooks/useRocords';\r\nimport {useTags} from '../hooks/useTags';\r\nimport day from 'dayjs';\r\n\r\nconst CategoryWrapper = styled.div`\r\n  background: white;\r\n`;\r\nconst Item = styled.div`\r\ndisplay: flex;\r\njustify-content: space-between;\r\nbackground: white;\r\nfont-size: 18px;\r\nline-height: 20px;\r\npadding: 10px 16px;\r\n> .note{\r\nmargin-right: auto;\r\nmargin-left: 16px;\r\ncolor: #999;\r\n}\r\n`;\r\nconst Header = styled.h3`\r\nfont-size: 18px;\r\nline-height: 20px;\r\npadding: 10px 16px;\r\n`;\r\n\r\nfunction Statistics() {\r\n    const [category, setCategory] = useState<'-' | '+'>('-');\r\n    const {records} = useRecords();\r\n    const {getName} = useTags();\r\n    const hash: { [K: string]: RecordItem[] } = {};\r\n    const selectedRecords = records.filter(r => r.category === category);\r\n\r\n    selectedRecords.forEach(r => {\r\n        const key = day(r.createdAt).format('YYYY年MM月DD日');\r\n        if (!(key in hash)) {\r\n            hash[key] = [];\r\n        }\r\n        hash[key].push(r);\r\n    });\r\n\r\n    const array = Object.entries(hash).sort((a, b) => {\r\n        if (a[0] === b[0]) return 0;\r\n        if (a[0] > b[0]) return -1;\r\n        if (a[0] < b[0]) return 1;\r\n        return 0;\r\n    });\r\n\r\n\r\n    return (<Layout>\r\n        <CategoryWrapper>\r\n            <CategorySection value={category}\r\n                             onChange={value => setCategory(value)}/>\r\n        </CategoryWrapper>\r\n        {array.map(([date,records]) => <div>\r\n            <Header>{date}</Header>\r\n            <div>{records.map(r => {\r\n                return <Item>\r\n                    <div className=\"tags onLine\">\r\n                        {r.tagIds.map(tagId => <span key={tagId}>{getName(tagId)}</span>).reduce((result,span,index,array)=>result.concat(index<array.length-1 ? [span,'，']: [span]),[] as ReactNode[])}\r\n                    </div>\r\n                    {r.note && <div className=\"note\"> {r.note}\r\n                    </div>}\r\n                    <div className=\"amount\">\r\n                        ￥{r.amount}\r\n                    </div>\r\n                </Item>;\r\n            })}</div>\r\n        </div>)}\r\n\r\n    </Layout>);\r\n}\r\n\r\nexport default Statistics;\r\n","import React from 'react';\r\n\r\nfunction NoMatch() {\r\n    return (\r\n        <div>页面不存在，输出地址了吧！</div>\r\n    );\r\n}\r\n\r\nexport default NoMatch;\r\n","import {useTags} from 'hooks/useTags';\r\nimport {useParams,useHistory} from 'react-router-dom';\r\nimport Layout from 'components/Layout';\r\nimport React from 'react';\r\nimport Icon from 'components/Icon';\r\nimport {Button} from 'components/Button';\r\nimport styled from 'styled-components';\r\nimport {Input} from 'components/Input';\r\nimport {Center} from 'components/Center';\r\nimport {Space} from 'components/Space';\r\n\r\ntype Params = {\r\n    id: string\r\n}\r\nconst Topbar = styled.header`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  line-height: 20px;\r\n  padding: 14px;\r\n  background: white;\r\n`;\r\nconst InputWrapper = styled.div`\r\nbackground: white;\r\npadding: 0 16px;\r\nmargin-top: 8px;\r\n`;\r\n\r\nconst Tag: React.FC = (props) => {\r\n    const {findTag, updateTag, deleteTag} = useTags();\r\n    let {id: idString} = useParams<Params>();\r\n    const tag = findTag(parseInt(idString));\r\n     const tagContent=(tag: {id:number;name: string}) =>(\r\n         <div>\r\n             <InputWrapper>\r\n                 <Input label=\"标签名\" placeholder=\"标签名\" type=\"text\"\r\n                        value={tag.name}\r\n                        onChange={(e) => {\r\n                            updateTag(tag.id, {name: e.target.value});\r\n                        }}/>\r\n             </InputWrapper>\r\n             <Center>\r\n                 <Space/>\r\n                 <Space/>\r\n                 <Space/>\r\n                 <Button onClick={()=>deleteTag(tag.id)}>删除标签</Button>\r\n             </Center>\r\n         </div>\r\n     );\r\n     const history = useHistory();\r\n     const onClickBack=()=>{\r\n         history.goBack()\r\n     };\r\n    return (\r\n        <Layout>\r\n            <Topbar>\r\n                <Icon name=\"左\" onClick={onClickBack}/>\r\n                <span>编辑标签</span>\r\n                <Icon/>\r\n            </Topbar>\r\n            {tag ? tagContent(tag) : <div>tag不存在</div>}\r\n\r\n        </Layout>\r\n    );\r\n\r\n};\r\n\r\nexport {Tag};\r\n","import React from 'react';\nimport {\n    HashRouter as Router,\n    Switch,\n    Route,\n    Redirect,\n} from 'react-router-dom';\nimport Money from './views/Money';\nimport Tags from './views/Tags';\nimport Statistics from './views/statistics';\nimport NoMatch from './views/NoMatch';\nimport styled from 'styled-components';\nimport {Tag} from './Tag';\n\nconst AppWrapper= styled.div`\ncolor: #333;\nmax-width: 520px;\nmargin: 0 auto;\n`;\nfunction App() {\n    return (\n        <AppWrapper>\n        <Router>\n\n                    <Switch>\n                        <Route path=\"/money\" exact>\n                            <Money/>\n                        </Route>\n                        <Route path=\"/tags/:id\" exact={true}>\n                            <Tag/>\n                        </Route>\n                        <Route path=\"/tags\" exact={true}>\n                            <Tags/>\n                        </Route>\n                        <Route path=\"/statistics\" exact>\n                            <Statistics/>\n                        </Route>\n                        <Redirect exact from=\"/\" to=\"/money\" />\n                        <Route path=\"*\">\n                            <NoMatch/>\n                        </Route>\n                    </Switch>\n        </Router>\n        </AppWrapper>\n    );\n}\n\n\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.scss'\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}